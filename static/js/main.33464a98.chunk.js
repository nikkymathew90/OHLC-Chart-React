(this["webpackJsonpretrospective-wall"]=this["webpackJsonpretrospective-wall"]||[]).push([[0],{11:function(t,e,a){t.exports={Navigation:"Navigation_Navigation__1tTPb",NavigationContent:"Navigation_NavigationContent__w_Unx",NavigationItems:"Navigation_NavigationItems__eQ6OA",NavigationItem:"Navigation_NavigationItem__3SoDy",active:"Navigation_active__1Sofg"}},116:function(t,e){},119:function(t,e,a){},120:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(57),i=a.n(r),c=a(16),s=(a(67),a(7)),l=a(8),u=a(10),h=a(9),m=a(11),g=a.n(m),v=function(t){return o.a.createElement("div",{className:g.a.Navigation},o.a.createElement("div",{className:g.a.NavigationContent},o.a.createElement("ul",{className:g.a.NavigationItems},o.a.createElement("li",{className:g.a.NavigationItem},o.a.createElement(c.b,{activeClassName:g.a.active,to:"/",exact:!0},"Home")),o.a.createElement("li",{className:g.a.NavigationItem},o.a.createElement(c.b,{activeClassName:g.a.active,to:"/live-chart",exact:!0},"Live Chart")))))},p=a(59),d=a.n(p),f=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(v,null),o.a.createElement("main",{className:d.a.Main},this.props.children))}}]),a}(n.Component),b=a(1),y=a(17),w=a(24),x=a.n(w),N=a(60),O=a.n(N).a.create({baseURL:"http://kaboom.rksv.net/api/"}),j=a(61),E=a.n(j),_=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={data:[{x:[],close:[],decreasing:{line:{color:"#7F7F7F"}},high:[],increasing:{line:{color:"#17BECF"}},line:{color:"rgba(31,119,180,1)"},low:[],open:[],type:"ohlc",xaxis:"x",yaxis:"y"}],layout:{dragmode:"zoom",autosize:!0,width:800,height:500,margin:{r:0,t:100,b:40,l:100},showlegend:!1,xaxis:{autorange:!0,title:"Date",type:"date"},yaxis:{autorange:!0,type:"linear"}},error:!1},t.componentDidMount=function(){O.get("historical?interval=1").then((function(e){var a=e.data.reduce((function(t,e){return t.push(e.split(",")),t}),[]).reduce((function(e,a){return e.x.push(t.formatDate(a[0])),e.open.push(a[1]),e.high.push(a[2]),e.low.push(a[3]),e.close.push(a[4]),e}),{x:[],open:[],close:[],high:[],low:[]}),n=[Object(y.a)(Object(y.a)({},t.state.data[0]),a)];t.setState({data:n})})).catch((function(e){t.setState({error:e.message}),console.log("Error",e.message)}))},t.formatDate=function(t){var e=new Date(Number(t));return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},t}return Object(l.a)(a,[{key:"render",value:function(){return this.state.error?o.a.createElement("div",{className:E.a.error},"Something went wrong!"):o.a.createElement(x.a,{data:this.state.data,layout:this.state.layout})}}]),a}(n.Component),k=a(18),D=a(34),C=a.n(D),F=(C()("http://kaboom.rksv.net/watch"),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={data:[{x:[],close:[],decreasing:{line:{color:"#7F7F7F"}},high:[],increasing:{line:{color:"#17BECF"}},line:{color:"rgba(31,119,180,1)"},low:[],open:[],type:"ohlc",xaxis:"x",yaxis:"y"}],layout:{dragmode:"zoom",autosize:!0,width:800,height:500,margin:{r:0,t:100,b:40,l:100},showlegend:!1,xaxis:{autorange:!0,title:"Date",type:"date"},yaxis:{autorange:!0,type:"linear"}},socket:null},t.formatDate=function(t){var e=new Date(Number(t)),a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),n=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();return"".concat(a," ").concat(n)},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var t=this,e=C()("http://kaboom.rksv.net/watch");this.setState({socket:e}),e.on("connect",(function(){e.emit("sub",{state:!0}),e.on("data",(function(e,a){var n=e.split(","),o={x:Object(k.a)(t.state.data[0].x),open:Object(k.a)(t.state.data[0].open),high:Object(k.a)(t.state.data[0].high),low:Object(k.a)(t.state.data[0].low),close:Object(k.a)(t.state.data[0].close)};o.x.push(t.formatDate(n[0])),o.open.push(n[1]),o.high.push(n[2]),o.low.push(n[3]),o.close.push(n[4]);var r=[Object(y.a)(Object(y.a)({},t.state.data[0]),o)];t.setState({data:r}),setTimeout((function(){a(1)}),900)})),e.on("error",(function(t){console.log(t)}))}))}},{key:"componentWillUnmount",value:function(){this.state.socket.emit("unsub",{state:!1})}},{key:"render",value:function(){return o.a.createElement(x.a,{data:this.state.data,layout:this.state.layout})}}]),a}(n.Component)),M=(a(119),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=o.a.createElement(b.c,null,o.a.createElement(b.a,{path:"/live-chart",component:F}),o.a.createElement(b.a,{path:"/",exact:!0,component:_}));return o.a.createElement("div",null,o.a.createElement(f,null,t))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.a,null,o.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},59:function(t,e,a){t.exports={Main:"Layout_Main__2zCf8"}},61:function(t,e,a){t.exports={error:"Home_error__3hYwX"}},62:function(t,e,a){t.exports=a(120)},67:function(t,e,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.33464a98.chunk.js.map